---
import MainLayout from "../layouts/MainLayout.astro";
import { teamMembers } from "../data/teamMembers";
import type { TeamMember } from "../types/TeamMember";

const basePath = import.meta.env.BASE_URL || "";

const memberById = teamMembers.reduce<Record<string, TeamMember>>(
  (acc, member) => {
    acc[member.id] = member;
    return acc;
  },
  {}
);
---

<MainLayout title="Kontakt - Logopädie 21">
  <div class="bg-brand-purple min-h-screen py-12">
    <div class="container mx-auto px-4">
      <!-- Map Section -->
      <div class="bg-white rounded-lg shadow-lg overflow-hidden mb-8">
        <iframe
          src="https://maps.google.com/maps?q=bollwerk21,%203011%20Bern&t=&z=15&ie=UTF8&iwloc=&output=embed"
          class="w-full h-[400px]"
          style="border:0;"
          allowfullscreen=""
          loading="lazy"></iframe>
      </div>

      <div class="grid grid-cols-1 lg:grid-cols-2 gap-8">
        <!-- Contact Information Section -->
        <div class="bg-white rounded-lg shadow-lg p-8">
          <h2 class="text-2xl font-bold mb-4">Kontakt</h2>
          <p class="mb-8">
            Logopädie 21<br />
            Bollwerk 21<br />
            3011 Bern<br />
            <a
              href="mailto:info@logopaedie21.ch"
              class="text-primary hover:underline">info@logopaedie21.ch</a
            >
          </p>

          <h2 class="text-2xl font-bold mb-4">KONTAKT DIREKT</h2>

          <div class="space-y-4">
            <div>
              <p class="font-bold">{memberById.jolanda.name}</p>
              <p>
                <a
                  href={`mailto:${memberById.jolanda.email}`}
                  class="text-primary hover:underline"
                >
                  {memberById.jolanda.email}
                </a> •
                <a
                  href={`tel:${memberById.jolanda.phone.replace(/\s/g, "")}`}
                  class="text-primary hover:underline"
                >
                  {memberById.jolanda.phone}
                </a>
              </p>
            </div>

            <div>
              <p class="font-bold">{memberById.franziska.name}</p>
              <p>
                <a
                  href={`mailto:${memberById.franziska.email}`}
                  class="text-primary hover:underline"
                >
                  {memberById.franziska.email}
                </a> •
                <a
                  href={`tel:${memberById.franziska.phone.replace(/\s/g, "")}`}
                  class="text-primary hover:underline"
                >
                  {memberById.franziska.phone}
                </a>
              </p>
            </div>

            <div>
              <p class="font-bold">{memberById.almut.name}</p>
              <p>
                <a
                  href={`mailto:${memberById.almut.email}`}
                  class="text-primary hover:underline"
                >
                  {memberById.almut.email}
                </a> •
                <a
                  href={`tel:${memberById.almut.phone.replace(/\s/g, "")}`}
                  class="text-primary hover:underline"
                >
                  {memberById.almut.phone}
                </a>
              </p>
            </div>

            <div>
              <p class="font-bold">{memberById.livia.name}</p>
              <p>
                <a
                  href={`mailto:${memberById.livia.email}`}
                  class="text-primary hover:underline"
                >
                  {memberById.livia.email}
                </a> •
                <a
                  href={`tel:${memberById.livia.phone.replace(/\s/g, "")}`}
                  class="text-primary hover:underline"
                >
                  {memberById.livia.phone}
                </a>
              </p>
            </div>

            <div>
              <p class="font-bold">{memberById.barbara.name}</p>
              <p>
                <a
                  href={`mailto:${memberById.barbara.email}`}
                  class="text-primary hover:underline"
                >
                  {memberById.barbara.email}
                </a> •
                <a
                  href={`tel:${memberById.barbara.phone.replace(/\s/g, "")}`}
                  class="text-primary hover:underline"
                >
                  {memberById.barbara.phone}
                </a>
              </p>
            </div>
          </div>
        </div>
        <div>
          <img
            src={`${basePath}/images/bollwerk21.jpg`}
            alt="Bollwerk 21"
            class="w-full h-auto rounded-lg mb-6"
          />
        </div>
      </div>
    </div>
  </div>
</MainLayout>
